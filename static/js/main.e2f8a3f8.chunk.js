(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{103:function(e,t,n){},105:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(49),l=n.n(c),i=n(4),o=n(9),u=n(146),m=function(e){var t=Object(i.g)(),n=Object(a.useState)(""),c=Object(o.a)(n,2),l=c[0],m=c[1];return r.a.createElement("div",null,r.a.createElement(u.a,{onChange:function(e){return m(e.target.value)},onKeyDown:function(e){return"Enter"===e.key?t("/search/".concat(l)):null}}))},s=function(e){return r.a.createElement("div",null,r.a.createElement(m,null),r.a.createElement(i.a,null))},d=n(28),v=n(30),E=n(77),f=n.n(E),h=n(84),p={},g=function(e){return p[e]||[]},b=function(e,t){p[e]||(p[e]=[]),p[e].push(t)},w=function(e,t){return console.log("Requesting ".concat(e," with query ").concat(t)),new Promise(function(n,a){fetch(e,t).then(function(e){return n(e.json())}).catch(function(e){return a(e)})})},y=function(e,t){var n=Object(a.useState)(null),r=Object(o.a)(n,2),c=r[0],l=r[1];return Object(a.useEffect)(function(){Object(h.a)(f.a.mark(function n(){var a;return f.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,w("https://api.themoviedb.org/3".concat(e,"?api_key=").concat("11adb039c7a69746cffaca4ae635d8d6").concat(t?"&".concat(t):""));case 2:a=n.sent,l(a);case 4:case"end":return n.stop()}},n)}))()},[e,t]),c},O=function(e){return y("/search/movie","language=en-US&query=".concat(e,"&page=1&include_adult=false"))},j=function(e){return y("/movie/".concat(e))},k=function(e){return y("/movie/".concat(e,"/images"))},_=function(e){return"https://image.tmdb.org/t/p/w500/".concat(e)},S=function(e){return y("/movie/".concat(e,"/credits"))},C=(n(78),n(149)),x=(n(90),function(e){var t=e.onClick,n=e.onMouseEnter,c=e.src,l=e.overlay,i=e.height,u=e.width,m=e.alwaysShowOverlay,s=Object(a.useState)(null),d=Object(o.a)(s,2),v=d[0],E=d[1];return Object(a.useEffect)(function(){c&&function(){var e=new Image;e.src=c,e.onload=function(){if(void 0!==i&&void 0!==u)E({height:i,width:u});else if(void 0!==i||void 0!==u){var t=1;t=void 0!==i?i/e.height:u/e.width,E({height:e.height*t,width:e.width*t})}}}()}),r.a.createElement("div",{className:"container",onMouseEnter:n,onClick:t},void 0!=v?r.a.createElement("img",{src:c,className:"image",style:{height:v.height,width:v.width}}):r.a.createElement(C.a,{variant:"rectangular",height:225,width:150}),r.a.createElement("div",{className:"overlay",style:m?{opacity:1}:{}},r.a.createElement("div",{className:"content-parent"},l)))}),I=function(e){var t=e.actor;return r.a.createElement(x,{width:150,src:_(t.profile_path||""),overlay:r.a.createElement("div",null,r.a.createElement("div",{style:{fontWeight:"bold"}},t.name)," as"," ",t.character)})},N=function(e){var t=e.children;return r.a.createElement("div",{style:{display:"flex",flexDirection:"row",overflow:"scroll"}},t)},q=function(e){var t=e.movieId,n=S(t);return null===n?r.a.createElement("div",null,"Loading..."):(n.cast,r.a.createElement(N,{children:n.cast.map(function(e){return r.a.createElement(I,{key:e.id,actor:e})})}))},L=n(147),M=(n(92),function(e){var t=e.children;return e.isOpen?r.a.createElement("div",{className:"popup"},r.a.createElement("div",{className:"popup_inner"},t)):null});var A=function(e){var t=e.title,n=e.id,c=Object(a.useState)(!1),l=Object(o.a)(c,2),i=l[0],m=l[1],s=function(){var e=g(n).sort(function(e,t){return e.getTime()-t.getTime()});y(e[e.length-1])},d=Object(a.useState)(""),v=Object(o.a)(d,2),E=v[0],f=v[1],h=Object(a.useState)(null),p=Object(o.a)(h,2),w=p[0],y=p[1];return Object(a.useEffect)(function(){s()},[]),r.a.createElement(r.a.Fragment,null,w&&r.a.createElement("div",null,"Last seen: ",w.toISOString()),r.a.createElement(M,{isOpen:i},r.a.createElement("h1",null,"Add ",t," to your watch history:"),r.a.createElement("input",{type:"date",value:E,onChange:function(e){return f(e.target.value)}}),r.a.createElement("br",null),r.a.createElement(u.a,{label:"Comments",multiline:!0,rows:4}),r.a.createElement("br",null),r.a.createElement(L.a,{variant:"outlined",onClick:function(){b(n,new Date(E)),m(!1),s()}},"OK!")),r.a.createElement("button",{onClick:function(){m(!0)}},"Add seen"))},D=n(85),F=function(e){var t=e.movieId,n=k(t);return console.log(n),null===n?r.a.createElement("div",null,"Loading"):r.a.createElement("div",{style:{alignItems:"center"}},r.a.createElement(D.Carousel,{useKeyboardArrows:!0,centerMode:!0,centerSlidePercentage:50,autoPlay:!0,infiniteLoop:!0,autoFocus:!0,showIndicators:!1,showThumbs:!1,interval:2e3},n.backdrops.map(function(e){return r.a.createElement("div",{key:e.file_path},r.a.createElement("img",{src:_(e.file_path)}))})))};n(103);var P=function(e){return Object(v.a)(e),r.a.createElement("div",null)},K=function(e){Object(v.a)(e);var t=Number(Object(i.h)().id),n=j(t);return void 0===t?r.a.createElement("div",null,"An error occured!"):null===n?r.a.createElement("div",null,"Loading..."):r.a.createElement("div",null,r.a.createElement("div",{style:{alignContent:"center"}},r.a.createElement("h1",{style:{textAlign:"center"}},n.title,n.release_date&&"(".concat(new Date(n.release_date).getFullYear(),")"))),r.a.createElement(F,{movieId:t}),r.a.createElement(q,{movieId:t}),r.a.createElement("div",{className:"div-beside-wrapper"},r.a.createElement("div",null,r.a.createElement("div",null,n.overview)),r.a.createElement(P,null)),r.a.createElement("div",{className:"div-beside-wrapper"},r.a.createElement("div",null,r.a.createElement(A,{title:n.title,id:t}))))},T=n(150),J=n(151),R=n(152),Y=n(153);var B=function(e){var t=e.value;return r.a.createElement(J.a,{sx:{position:"relative",display:"inline-flex"}},r.a.createElement(R.a,{variant:"determinate",value:t,color:"warning"}),r.a.createElement(J.a,{sx:{top:0,left:0,bottom:0,right:0,position:"absolute",display:"flex",alignItems:"center",justifyContent:"center"}},r.a.createElement(Y.a,{variant:"caption",component:"div",color:"white"},"".concat(Math.round(t),"%"))))},U=function(e){var t=e.movie,n=Object(i.g)(),a=j(t.id?t.id:0);return r.a.createElement(x,{onMouseEnter:function(){console.log("enter")},onClick:function(){n("/movie/".concat(t.id))},height:400,src:t.poster_path?_(t.poster_path):void 0,overlay:r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,t.title,t.release_date&&" (".concat(new Date(t.release_date).getFullYear(),")")),r.a.createElement("div",null,a&&a.runtime," minutes"),r.a.createElement(B,{value:t.vote_average?10*t.vote_average:0}))})},W=function(e){Object(v.a)(e);var t=Object(i.h)().query;if(void 0===t)return r.a.createElement("div",null,"Please provide a query!");var n=O(t);return null==n?r.a.createElement("div",null,"Loading..."):r.a.createElement(T.a,{container:!0},n.results.sort(function(e,t){return(t.popularity||0)-(e.popularity||0)}).map(function(e){return r.a.createElement(U,{key:e.id,movie:e})}))};var z=function(){return r.a.createElement(d.a,null,r.a.createElement(i.d,null,r.a.createElement(i.b,{path:"/",element:r.a.createElement(s,null)},r.a.createElement(i.b,{path:"search/:query",element:r.a.createElement(W,null)}),r.a.createElement(i.b,{path:"movie/:id",element:r.a.createElement(K,null)}),r.a.createElement(i.b,{path:"*",element:r.a.createElement("div",null,"Page not found")}))))};l.a.createRoot(document.getElementById("root")).render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(z,null)))},63:function(e,t,n){e.exports=n(105)},90:function(e,t,n){},92:function(e,t,n){}},[[63,2,1]]]);
//# sourceMappingURL=main.e2f8a3f8.chunk.js.map